{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project/webpack/bootstrap","webpack://mesto-project/webpack/runtime/define property getters","webpack://mesto-project/webpack/runtime/hasOwnProperty shorthand","webpack://mesto-project/./src/utils/constants.js","webpack://mesto-project/./src/components/api.js","webpack://mesto-project/./src/components/card.js","webpack://mesto-project/./src/components/modal.js","webpack://mesto-project/./src/components/validation.js","webpack://mesto-project/./src/scripts/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","//переменные попапов\nconst popupEditProfile = document.querySelector(\".popup_type_edit\");\nconst popupAddCard = document.querySelector(\".popup_type_new-card\");\nconst popupZoomImage = document.querySelector(\".popup_type_image\");\nconst popupAvatarEdit = document.querySelector(\".popup-update-avatar\");\n\n//переменные кнопок\nconst popupProfileOpenButton = document.querySelector(\".profile__edit-button\");\nconst popupAddCardOpenButton = document.querySelector(\".profile__add-button\");\nconst popupProfileCloseButton = document.querySelector(\".button-close_type_edit\");\nconst popupAddCardCloseButton = document.querySelector(\".button-close_type_add\");\nconst popupZoomCloseButton = document.querySelector(\".button-close_type_zoom\");\nconst popupAvatarOpenButton = document.querySelector(\".profile__avatar-edit-button\");\nconst popupAvatarEditCloseButton = document.querySelector(\".button-close_type_avatar\");\n\n//переменные для формы редактирования профиля\nconst formEditElement = document.forms.editProfile;\nconst nameInput = formEditElement.elements.name;\nconst jobInput = formEditElement.elements.info;\n\n//переменные для редактирования профиля\nconst profileName = document.querySelector(\".profile__nickname\");\nconst userInfo = document.querySelector(\".profile__user-information\");\n\n//переменные для формы попапа добавления карточек\nconst formAddCardElement = document.forms.newCard;\nconst placeInput = formAddCardElement.elements.cardTitle;\nconst linkInput = formAddCardElement.elements.link;\n\n//переменные для попапа добавления карточек\nconst cardContainer = document.querySelector(\".places__list\");\n\n//переменные для редактирования аватара\nconst avatarImage = document.querySelector(\".profile__image\");\n\n//переменные для формы редактирования аватара\nconst formEditAvatarElement = document.forms.updateAvatar;\nconst avatarLinkInput = formEditAvatarElement.elements.url;\n\n\nexport { popupEditProfile, popupAddCard, popupZoomImage, popupAvatarEdit, popupProfileOpenButton,\npopupAddCardOpenButton, popupProfileCloseButton, popupAddCardCloseButton, popupZoomCloseButton,\npopupAvatarOpenButton, popupAvatarEditCloseButton, formEditElement, nameInput, jobInput, profileName,\nuserInfo, formAddCardElement, placeInput, linkInput, cardContainer, avatarImage, formEditAvatarElement,\navatarLinkInput };","const config = {\n    baseUrl: 'https://nomoreparties.co/v1/wff-cohort-2',\n    headers: {\n      authorization: '7b51863c-93c2-411f-a61e-7d6b9806910b',\n      'Content-Type': 'application/json'\n    }\n  }\n\n//Токен: 7b51863c-93c2-411f-a61e-7d6b9806910b\n//Идентификатор группы: wff-cohort-2\n\nconst checkError = (response) => {\n    if (response.ok) {\n        return response;\n      } else { // если ошибка, отклоняем промис\n        return Promise.reject(`Ошибка: ${response.status} ${response.statusText}`);\n      }\n}\n\nconst handleResponse = (response) => {\n    return response.json();\n  };\n\n//запрос информации пользователя\nexport const getUserInformation = () => {\n    return fetch(`${config.baseUrl}/users/me`, {\n        headers: config.headers,\n        method: \"GET\",\n      }).then(checkError)\n      .then(handleResponse)\n}\n\n//запрос карточек\nexport const getCards = () => {\n    return fetch(`${config.baseUrl}/cards`, {\n      headers: config.headers,\n      method: \"GET\",\n    }).then(checkError)\n    .then(handleResponse)\n  }\n\n//редактирование информации пользователя\n export const editUserInformation = ({name, job}) => { //отредактировать информацию // в name и about попали мои отредактированные данные\n    return fetch(`${config.baseUrl}/users/me`, {\n      headers: config.headers,\n      method: \"PATCH\",\n      body: JSON.stringify({   //берет мой обьект  превращает в строку\n        name: name,  //сюда попадают мои отредактированные данные\n        about: job,\n      }),\n    })\n    .then(checkError)\n    .then(handleResponse)\n  }\n\n\nexport const addCard = ({name, link}) => {\n    return fetch(`${config.baseUrl}/cards`, {\n      headers: config.headers,\n      method: \"POST\",\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    })\n    .then(checkError)\n    .then(handleResponse);\n  }\n\n\n  export const deleteCard = (cardId) => {\n    return fetch(`${config.baseUrl}/cards/${cardId}`, {\n        headers: config.headers,\n        method: \"DELETE\",\n    })\n    .then(checkError)\n    .then(handleResponse);\n  }\n\n  export const putLike = (cardId) => {\n    return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\n        headers: config.headers,\n        method: \"PUT\",\n    })\n    .then(checkError)\n    .then(handleResponse);\n  }\n\n  export const deleteLike = (cardId) => {\n    return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\n        headers: config.headers,\n        method: \"DELETE\",\n    })\n    .then(checkError)\n    .then(handleResponse);\n  }\n\n  export const editAvatar = ({avatar}) => { //отредактировать информацию // в name и about попали мои отредактированные данные\n    return fetch(`${config.baseUrl}/users/me/avatar`, {\n      headers: config.headers,\n      method: \"PATCH\",\n      body: JSON.stringify({   //берет мой обьект  превращает в строку\n        avatar: avatar,\n      }),\n    })\n    .then(checkError)\n    .then(handleResponse)\n  }\n\n   export const testAvatarUrl = ({avatar}) =>{\n    return fetch(avatar, {\n      method: \"HEAD\",\n    })\n    .then(checkError)\n    .then((res) => {return res.headers.get(\"content-type\")}\n    )\n    \n  }\n   ","import { myId } from \"../scripts/index.js\";\nimport { deleteCard, putLike, deleteLike } from \"./api.js\";\nfunction createCard(item, handleDeleteCard, handlePutLike, handleDeleteLike, handleZoomImage) {\n  const cardTemplate = document.querySelector(\"#card-template\").content;\n  const card = cardTemplate.querySelector(\".card\").cloneNode(true);\n  const cardImage = card.querySelector(\".card__image\");\n  const cardTitle = card.querySelector(\".card__title\");\n  const deleteCardButton = card.querySelector(\".card__delete-button\");\n  const likeCardButton = card.querySelector(\".card__like-button\");\n  const likeCounter = card.querySelector(\".card__like-counter\");\n  cardImage.src = item.link;\n  cardImage.alt = item.name;\n  cardTitle.textContent = item.name;\n  likeCounter.textContent = item.likes.length;\n  const cardId = item._id;\n  if(isLikedByMe(item, myId)){\n    likeCardButton.classList.add(\"card__like-button_is-active\");\n  } else {\n    likeCardButton.classList.remove(\"card__like-button_is-active\");\n  }\n  if (myId !== item.owner._id) {\n    deleteCardButton.remove();\n  }\n  deleteCardButton.addEventListener(\"click\", () => {\n    handleDeleteCard(deleteCardButton, \".card\", cardId);\n  });\n\n  likeCardButton.addEventListener(\"click\", () => {\n    if(isLikedByMe(item, myId)){\n      handleDeleteLike(likeCardButton, \"card__like-button_is-active\", cardId, likeCounter);\n    }\n    else {\n   handlePutLike(likeCardButton, \"card__like-button_is-active\", cardId, likeCounter);\n  }\n  });\n  cardImage.addEventListener(\"click\", handleZoomImage);\n  \n  return card;\n}\n\nfunction handleDeleteCard(button, classname, id) {\n  const cardParent = button.closest(classname);\n  cardParent.remove();\n  deleteCard(id)\n    .then((res) => console.log(res))\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\nfunction isLikedByMe(cardData, ownerId){\n  if(cardData.likes.filter((like) => { return like._id == ownerId}).length){\n    return true;\n  } \n}\n\nfunction handlePutLike(button, classname, id, counter) {\n  putLike(id)\n    .then((cardData) => { button.classList.add(classname);\n      counter.textContent = cardData.likes.length;\n})\n    .catch((error) => {\n      console.log(error);\n    });    \n}\n\nfunction handleDeleteLike(button, classname, id, counter) {\n  deleteLike(id)\n    .then((cardData) => { button.classList.remove(classname);\n      counter.textContent = cardData.likes.length; \n    })\n    .catch((error) => {\n      console.log(error);\n    });    \n}\n\n\nexport { createCard, handleDeleteCard, handlePutLike, handleDeleteLike };\n","//открыть модальное окно\nfunction openPopup(popup) {\n  popup.classList.add(\"popup_is-opened\");\n  document.addEventListener(\"keydown\", closeByEsc);\n  popup.addEventListener(\"mousedown\", closeByOverlayClick);\n}\n\n//закрыть модальное окно\nfunction closePopup(popup) {\n  popup.classList.remove(\"popup_is-opened\");\n  document.removeEventListener(\"keydown\", closeByEsc);\n  popup.removeEventListener(\"mousedown\", closeByOverlayClick);\n}\n\n//закрыть модальное окно нажатием на ESC\nfunction closeByEsc(evt) {\n  if (evt.key === \"Escape\") {\n    const popup = document.querySelector(\".popup_is-opened\");\n    closePopup(popup);\n  }\n}\n\n//закрыть модальное окно нажатием на фон\nfunction closeByOverlayClick(evt) {\n  if (evt.target === evt.currentTarget) {\n    closePopup(evt.currentTarget);\n  }\n}\n\nexport { openPopup, closePopup };","export const configForm = {\n  formSelector: \".popup__form\",\n  inputSelector: \".popup__input\",\n  submitButtonSelector: \".popup__button\",\n  inputErrorClass: \"popup__input_invalid\",\n  buttonInactiveClass: \"popup__button_disabled\",\n  errorClass: \".error\",\n};\n\n//покажи ошибку\nfunction showError(inputElement, errorElement, config) {\n  inputElement.classList.add(config.inputErrorClass);\n  errorElement.textContent = inputElement.validationMessage;\n}\n\n//спрячь ошибку\nfunction hideError(inputElement, errorElement, config) {\n  inputElement.classList.remove(config.inputErrorClass);\n  errorElement.textContent = \"\";\n}\n\n//проверим валидность\nfunction checkInputValidity(inputElement, formElement, config) {\n  const isInputValid = inputElement.validity.valid;\n  const isInputMatchPattern = inputElement.validity.patternMismatch;\n  const errorElement = formElement.querySelector(`#${inputElement.name}-error`);\n  if (isInputValid) {\n    hideError(inputElement, errorElement, config);\n  } else {\n    showError(inputElement, errorElement, config);\n  }\n  if (isInputMatchPattern) {\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\n  } else {\n    inputElement.setCustomValidity(\"\");\n  }\n}\n\nfunction buttonUnblocked(buttonElement, config) {\n  buttonElement.disabled = false;\n  buttonElement.classList.remove(config.buttonInactiveClass);\n}\n\nfunction buttonBlocked(buttonElement, config) {\n  buttonElement.disabled = true;\n  buttonElement.classList.add(config.buttonInactiveClass);\n}\n\n//блокировка кнопки\nexport function toggleButton(buttonElement, isActive, config) {\n  if (isActive) {\n    buttonUnblocked(buttonElement, config);\n  } else {\n    buttonBlocked(buttonElement, config);\n  }\n}\n\n//Вешаем обработчик события submit\nfunction setEventListeners(formElement, config) {\n  const inputList = formElement.querySelectorAll(config.inputSelector);\n  const submitButtonElement = formElement.querySelector(\n    config.submitButtonSelector\n  );\n  toggleButton(submitButtonElement, formElement.checkValidity(), config);\n\n  inputList.forEach(function (inputElement) {\n    inputElement.addEventListener(\"input\", function () {\n      toggleButton(submitButtonElement, formElement.checkValidity(), config);\n      checkInputValidity(inputElement, formElement, config);\n    });\n  });\n  formElement.addEventListener(\"submit\", function (evt) {\n    evt.preventDefault();\n  });\n}\n\n//Находим все формы и перебираем их\nexport function enableValidation(config) {\n  const formList = document.querySelectorAll(config.formSelector);\n  formList.forEach(function (formElement) {\n    setEventListeners(formElement, config);\n  });\n}\n\n//очищаем поля ошибок\nexport function clearValidation(formElement, config) {\n  const errors = formElement.querySelectorAll(config.errorClass);\n  errors.forEach((error) => {\n    error.textContent = \"\";\n  });\n  const inputList = formElement.querySelectorAll(config.inputSelector);\n  inputList.forEach((inputElement) => {\n    inputElement.classList.remove(config.inputErrorClass);\n  });\n}\n","import \"../pages/index.css\";\nimport { popupEditProfile, popupAddCard, popupZoomImage, popupAvatarEdit, popupProfileOpenButton,\n  popupAddCardOpenButton, popupProfileCloseButton, popupAddCardCloseButton, popupZoomCloseButton,\n  popupAvatarOpenButton, popupAvatarEditCloseButton, formEditElement, nameInput, jobInput, profileName,\n  userInfo, formAddCardElement, placeInput, linkInput, cardContainer, avatarImage, formEditAvatarElement,\n  avatarLinkInput } from \"../utils/constants.js\";\nimport {\n  createCard,\n  handleDeleteCard,\n  handlePutLike,\n  handleDeleteLike,\n} from \"../components/card.js\";\nimport { openPopup, closePopup } from \"../components/modal.js\";\nimport {\n  configForm,\n  enableValidation,\n  clearValidation,\n  toggleButton,\n} from \"../components/validation\";\nimport {\n  getUserInformation,\n  getCards,\n  editUserInformation,\n  addCard,\n  editAvatar,\n  testAvatarUrl,\n} from \"../components/api\";\n\n\n\n//функция для попапа редактирования профиля\nfunction handleEditFormSubmit(evt) {\n  evt.preventDefault();\n  const submitButtonElement = document.querySelector(\".popup__button-edit\");\n  const name = nameInput.value;\n  const job = jobInput.value;\n  profileName.textContent = name;\n  userInfo.textContent = job;\n  renderLoading(true, submitButtonElement);\n  editUserInformation({ name, job })\n    .then((data) => {})\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      renderLoading(false, submitButtonElement);\n    });\n  closePopup(popupEditProfile);\n}\n\n\n//функция для попапа обновления аватара\nfunction handleEditAvatarSubmit(evt) {\n  evt.preventDefault();\n  const submitButtonElement = document.querySelector(\".popup__button-avatar\");\n  const avatar = avatarLinkInput.value;\n  renderLoading(true, submitButtonElement);\n  testAvatarUrl({ avatar })\n    .then((data) => {\n      if(data == 'image/jpeg'|| data == 'image/png' || data == 'image/gif') {\n        console.log(data + \" - правильный формат\");\n      } else {\n       return Promise.reject(\"Ошибка\");\n      };\n    })\n    .then(() => { avatarImage.src = avatar; \n      return editAvatar({ avatar }); })\n    .then((data) => { console.log(data) })\n    .catch((error) => {\n      if (error == \"Ошибка\") {\n        console.log(\"Некорректный формат изображения, используйте jpg, png или gif\"); // выведем ошибку в консоль\n      } else {\n        console.log(error);\n      }\n    })\n    .finally(() => {\n      renderLoading(false, submitButtonElement);\n    });\n  \n\n  closePopup(popupAvatarEdit);\n}\n\n//функция рендера карточки на страницу\nfunction renderCard(item) {\n  const newCard = createCard(\n    item,\n    handleDeleteCard,\n    handlePutLike,\n    handleDeleteLike,\n    handleZoomImage\n  );\n  cardContainer.prepend(newCard);\n}\n\n//добавляем свою карточку\nfunction addMyCard(evt) {\n  evt.preventDefault();\n  const submitButtonElement = document.querySelector(\".popup__button-add\");\n  const name = placeInput.value;\n  const link = linkInput.value;\n  renderLoading(true, submitButtonElement);\n  addCard({ name, link })\n    .then((data) => {\n      console.log(data);\n      renderCard(data);\n      closePopup(popupAddCard);\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      renderLoading(false, submitButtonElement);\n    });\n  evt.target.reset();\n\n  toggleButton(submitButtonElement, false, configForm);\n}\n\n//функция увеличения изображения по клику\nfunction handleZoomImage(evt) {\n  openPopup(popupZoomImage);\n  const imageZoomed = popupZoomImage.querySelector(\".popup__image\");\n  const imageCaption = popupZoomImage.querySelector(\".popup__caption\");\n  const img = evt.target;\n  imageZoomed.src = img.src;\n  imageZoomed.alt = img.alt;\n  imageCaption.textContent = imageZoomed.alt;\n}\n\n//функция заполнения данными профиля из инпутов\nfunction setUserInfo() {\n  const name = profileName.textContent;\n  const job = userInfo.textContent;\n  nameInput.value = name;\n  jobInput.value = job;\n}\n\n//включаем валидацию\nenableValidation(configForm);\n\n\n// API\n//получаем данные пользователя с сервера\ngetUserInformation()\n  .then((userInformation) => {\n  })\n  .catch((error) => {\n    console.log(\"Ошибка запроса информации пользователя\", error); // выведем ошибку в консоль\n  });\n\n//получаем карточки с сервера\ngetCards()\n  .then((cardMassive) => {\n  })\n  .catch((error) => {\n    console.log(\"Ошибка запроса карточек пользователя\", error); // выведем ошибку в консоль\n  });\n\nconst pageData = [getUserInformation(), getCards()];\n\nexport let myId;\n //мой айди 0fd2e9b846773c97126418ae\n\nPromise.all(pageData)\n  .then(([userInformation, cardMassive]) => {\n    myId = userInformation._id;\n    cardMassive.reverse();\n    cardMassive.forEach((item) => {\n      renderCard(item);\n    });\n    profileName.textContent = userInformation.name;\n    userInfo.textContent = userInformation.about;\n    avatarImage.src = userInformation.avatar;\n    console.log(userInformation);\n  })\n  .catch((error) => {\n    console.log(error);\n  });\n\n  //функция смены надписи кнопки при сохранении\nfunction renderLoading(isLoading, button) { \n  if (isLoading) {\n    button.textContent = \"Сохранение...\";\n  } else {\n    button.textContent = \"Сохранить\";\n  }\n}\n\n//слушатели-обработчики\n//слушатели для попапа редактирования\npopupProfileOpenButton.addEventListener(\"click\", () => {\n  openPopup(popupEditProfile);\n  clearValidation(formEditElement, configForm);\n  setUserInfo();\n});\n\npopupProfileCloseButton.addEventListener(\"click\", () => {\n  closePopup(popupEditProfile);\n});\n\nformEditElement.addEventListener(\"submit\", handleEditFormSubmit);\n\n//слушатели для попапа карточки\npopupAddCardOpenButton.addEventListener(\"click\", () => {\n  openPopup(popupAddCard);\n  clearValidation(formAddCardElement, configForm);\n});\n\npopupAddCardCloseButton.addEventListener(\"click\", () => {\n  closePopup(popupAddCard);\n});\n\nformAddCardElement.addEventListener(\"submit\", addMyCard);\n\n//слушатели для попапа изображения\npopupZoomCloseButton.addEventListener(\"click\", () => {\n  closePopup(popupZoomImage);\n});\n\n//слушатели для попапа аватара\npopupAvatarOpenButton.addEventListener(\"click\", () => {\n  openPopup(popupAvatarEdit);\n  clearValidation(formEditAvatarElement, configForm);\n\n});\n\npopupAvatarEditCloseButton.addEventListener(\"click\", () => {\n  closePopup(popupAvatarEdit);\n});\n\nformEditAvatarElement.addEventListener(\"submit\", handleEditAvatarSubmit);"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","popupEditProfile","document","querySelector","popupAddCard","popupZoomImage","popupAvatarEdit","popupProfileOpenButton","popupAddCardOpenButton","popupProfileCloseButton","popupAddCardCloseButton","popupZoomCloseButton","popupAvatarOpenButton","popupAvatarEditCloseButton","formEditElement","forms","editProfile","nameInput","elements","name","jobInput","info","profileName","userInfo","formAddCardElement","newCard","placeInput","cardTitle","linkInput","link","cardContainer","avatarImage","formEditAvatarElement","updateAvatar","avatarLinkInput","url","config","baseUrl","headers","authorization","checkError","response","ok","Promise","reject","concat","status","statusText","handleResponse","json","getUserInformation","fetch","method","then","getCards","deleteCard","cardId","putLike","deleteLike","handleDeleteCard","button","classname","id","closest","remove","res","console","log","catch","error","isLikedByMe","cardData","ownerId","likes","filter","like","_id","length","handlePutLike","counter","classList","add","textContent","handleDeleteLike","openPopup","popup","addEventListener","closeByEsc","closeByOverlayClick","closePopup","removeEventListener","evt","target","currentTarget","configForm","formSelector","inputSelector","submitButtonSelector","inputErrorClass","buttonInactiveClass","errorClass","toggleButton","buttonElement","isActive","disabled","buttonUnblocked","buttonBlocked","clearValidation","formElement","querySelectorAll","forEach","inputElement","renderCard","item","handleZoomImage","card","content","cloneNode","cardImage","deleteCardButton","likeCardButton","likeCounter","src","alt","myId","owner","createCard","prepend","imageZoomed","imageCaption","img","inputList","submitButtonElement","checkValidity","isInputValid","validity","valid","isInputMatchPattern","patternMismatch","errorElement","hideError","validationMessage","showError","setCustomValidity","dataset","errorMessage","checkInputValidity","preventDefault","setEventListeners","enableValidation","userInformation","cardMassive","pageData","renderLoading","isLoading","all","_ref","_ref2","reverse","about","avatar","job","value","body","JSON","stringify","editUserInformation","data","finally","addCard","reset","_ref4","_ref3","editAvatar"],"sourceRoot":""}